import{a as A,S as R,N as F,P as Y,g as c,b as q,i as b,j as N}from"./assets/vendor-Bvfj5gf5.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=o(s);fetch(s.href,n)}})();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".mob-menu-btn"),t=document.querySelector(".menu-close-btn"),o=document.querySelector("#mobileMenu"),r=document.body;e==null||e.addEventListener("click",()=>{o.classList.add("is-open"),r.classList.add("menu-open")}),t==null||t.addEventListener("click",s),o==null||o.addEventListener("click",n=>{n.target===o&&s()}),document.addEventListener("keydown",n=>{n.key==="Escape"&&o.classList.contains("is-open")&&s()}),document.querySelectorAll(".mobile-link").forEach(n=>{n.addEventListener("click",s)});function s(){o.classList.remove("is-open"),r.classList.remove("menu-open")}window.addEventListener("scroll",()=>{window.scrollY>50?document.querySelector(".header").classList.add("scrolled"):document.querySelector(".header").classList.remove("scrolled")})});const i={modal:document.querySelector(".modal"),artistDataLoader:document.getElementById("artistDataLoader"),artistDataSpinner:document.querySelector("#artistDataLoader .artist-loader__spinner"),artist:{name:document.querySelector(".modal__artist-name"),thumb:document.querySelector(".modal__artist-thumb"),years:document.querySelector(".modal__artist-years"),gender:document.querySelector(".modal__artist-gender"),members:document.querySelector(".modal__artist-members"),country:document.querySelector(".modal__artist-country"),bio:document.querySelector(".modal__artist-bio"),genres:document.querySelector(".modal__artist-genres")},albums:{container:document.querySelector(".modal__albums-container")},artistCardSection:document.querySelector(".modal__artist")};function _(){i.modal.classList.add("modal--hidden"),document.body.classList.remove("no-scroll"),document.body.style.overflow="",document.documentElement.style.overflow="",document.removeEventListener("keydown",$)}function G(){const e=document.querySelector(".modal__close-btn"),t=document.querySelector(".modal");e&&e.addEventListener("click",_),t&&t.addEventListener("click",o=>{o.target===t&&_()})}function $(e){e.key==="Escape"&&!i.modal.classList.contains("modal--hidden")&&_()}async function z(e){if(!e)throw new Error("Artist ID is required");const[t,o]=await Promise.all([A.get(`https://sound-wave.b.goit.study/api/artists/${e}`),A.get("https://sound-wave.b.goit.study/api/artists")]),r=t.data,s=o.data.artists||[];if(!(r!=null&&r.strArtist))throw new Error("No artist data");const n=s.find(a=>a._id===e);return n?n.genres&&(r.genres=n.genres):console.warn("Artist not found ‚ùóÔ∏è:",e),r}function W(e){const t=Math.floor(e/1e3),o=Math.floor(t/60),r=t%60;return`${o}:${r.toString().padStart(2,"0")}`}function J(e,t){return e.reduce((o,r)=>{if(r.strArtist!==t)return o;const s=r.strAlbum||"Unknown Album";return o[s]||(o[s]=[]),o[s].push(r),o},{})}const B="/js_123_Bashmachok1982/assets/icons-Du7oJ6Ni.svg";function K(e,t){const o=i.albums.container;if(!o)return;const r=J(e,t);o.innerHTML="";const s=document.createElement("ul");s.classList.add("modal__albums-list");for(const[n,a]of Object.entries(r)){const l=document.createElement("li");l.className="modal__album-item";const u=document.createElement("h4");u.className="modal__album-title",u.textContent=n,l.appendChild(u);const m=document.createElement("div");m.className="modal__tracks-wrapper";const f=document.createElement("ul");f.className="modal__tracks-header",f.innerHTML=`
      <li class="modal__track-name-col">track</li>
      <li class="modal__track-time-col">time</li>
      <li class="modal__track-link-col">link</li>
    `,m.appendChild(f),a.forEach(d=>{const h=document.createElement("ul");h.className="modal__track-item";const y=document.createElement("li");y.className="modal__track-name",y.textContent=d.strTrack||"";const E=document.createElement("li");E.className="modal__track-time",E.textContent=d.intDuration?W(d.intDuration):"";const S=document.createElement("li");if(S.className="modal__track-link",d.movie){const g=document.createElement("a");g.href=d.movie,g.target="_blank",g.rel="noopener noreferrer",g.innerHTML=`
        <svg width="16" height="16">
          <use href="${B}#icon-youtube"></use>
        </svg>`,S.appendChild(g)}h.append(y,E,S),m.appendChild(h)}),l.appendChild(m),s.appendChild(l)}o.appendChild(s)}function Q(e){const{name:t,thumb:o,years:r,gender:s,members:n,country:a,bio:l}=i.artist;t.textContent=e.strArtist??"No name",o.src=e.strArtistThumb||"https://placehold.co/200x200?text=No+Image",o.alt=`Artist photo ${e.strArtist??""}`,l.textContent=e.strBiographyEN??"No description",r.textContent=e.intFormedYear?`${e.intFormedYear} - ${e.intDiedYear||"present"}`:"No data",s.textContent=e.strGender||"No data",n.textContent=e.intMembers||"No data",a.textContent=e.strCountry||"No data"}function U(e,t){if(!(e instanceof HTMLElement)){console.error("container not DOM-element:",e);return}if(e.innerHTML="",t&&t.length>0)t.forEach(o=>{const r=document.createElement("span");r.classList.add("modal__genres-item"),r.textContent=o,e.appendChild(r)});else{const o=document.createElement("span");o.classList.add("modal__genres-item"),o.textContent="Genres not available",e.appendChild(o)}}function V(){if(!i.artistDataLoader||!i.artistCardSection){console.error("DOM references for loader are not found!");return}document.querySelector("#globalLoader").classList.remove("global-loader--hidden"),i.artistDataLoader.classList.remove("artist-loader--hidden"),i.artistDataLoader.classList.add("artist-loader--visible"),i.artistCardSection.classList.add("hidden")}function X(){if(!i.artistDataLoader||!i.artistCardSection){console.error("DOM references for loader are not found!");return}document.querySelector("#globalLoader").classList.add("global-loader--hidden"),i.artistDataLoader.classList.remove("artist-loader--visible"),i.artistDataLoader.classList.add("artist-loader--hidden"),i.artistCardSection.classList.remove("hidden")}const k={showArtistLoader:V,hideArtistLoader:X};async function Z(e){try{k.showArtistLoader();const t=await z(e),o=t.genres||[];ee(),Q(t),K(t.tracksList,t.strArtist),U(i.artist.genres,o),k.hideArtistLoader(),i.modal.classList.remove("modal--hidden"),document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",document.addEventListener("keydown",$)}catch(t){console.error("Error to load artist data:",t.message,t),k.hideArtistLoader(),alert("Artist data not found"),_()}}function ee(){i.albums.container&&(i.albums.container.innerHTML=""),i.artist.genres&&(i.artist.genres.innerHTML="")}G();async function j(e=1){try{return(await A.get(`https://sound-wave.b.goit.study/api/artists?limit=8&page=${e}`)).data.artists}catch(t){console.log(t.message)}}const w=document.querySelector(".artists__list");let C=0;te();async function te(){const e=await j(),t=I(e);w.innerHTML=t,C=1}const v=document.querySelector(".artists__load-more-btn");v.addEventListener("click",oe);async function oe(){try{D(!0),v.style.display="none",C+=1;const e=await j(C);e.length===0&&(v.style.display="none");const t=I(e),o=w.children.length;w.insertAdjacentHTML("beforeend",t)}catch(e){console.log(e)}finally{D(!1),v.style.display="flex"}}function re(e,t){if(typeof e!="string")return"";const o=window.innerWidth;return o<768?t=60:o<1440?t=160:t=144,e.length>t?e.slice(0,t)+"...":e}function se(e){return e.replace(/[,/]/g," ")}function I(e){return e.map(({_id:t,genres:o,strArtist:r,strArtistThumb:s,strBiographyEN:n})=>`
      <li class="artists__card">

        <img class="artists__card-image" src="${s}" alt="${r}"/>

        <ul class="artists__card-genres">
        ${o.map(a=>`<li class="artists__card-genre">${se(a)}</li>`).join("")}
        </ul>
        <p class="artists__card-name">${r}</p>
        <p class="artists__card-description">${re(n,144)}</p>
       <button class="artists__card-btn open-artist-modal" data-artist-id="${t}">
       Learn More
        <svg class="artists__card-btn-icon" width="24" height="24">
            <use href="${B}#icon-caret-right"></use>
          </svg>
       </button>
     </li>
      `).join("")||""}w.addEventListener("click",ne);function ne(e){const t=e.target.closest(".open-artist-modal");if(t){const o=t.dataset.artistId;o?Z(o):console.error("Artist ID not found üò±.")}}const T=document.querySelector(".loader");function D(e){e?T.classList.remove("visually-hidden"):T.classList.add("visually-hidden")}const ae=document.getElementById("feedback-container");async function ie(){try{const t=await(await fetch("https://sound-wave.b.goit.study/api/feedbacks?limit=10&page=1")).json();if(!t.data){console.error('–ü–æ–ª–µ "data" –≤—ñ–¥—Å—É—Ç–Ω—î –≤ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ!');return}const o=t.data;ce(o),le()}catch(e){console.error("4. –ü–æ–º–∏–ª–∫–∞ –¥–æ –≤–∏–∫–ª–∏–∫—É —Ä–µ–Ω–¥–µ—Ä—É:",e.message)}}function ce(e){const t=e.map(({rating:o,descr:r,name:s})=>{const n=Math.round(o);return`
      <div class="swiper-slide">
        <div class="stars-container">${Array.from({length:5},(l,u)=>`<span class="star ${u<n?"filled":"star-empty"}">‚òÖ</span>`).join("")}</div>
        <p class="feedback-text">"${r}"</p>
        <p class="feedback-user-name">${s}</p>
      </div>
    `}).join("");ae.innerHTML=t}function le(){const e=window.matchMedia("(min-width: 1440px)").matches,t={modules:[F,Y],slidesPerView:1,spaceBetween:0,grabCursor:!1,pagination:{el:".swiper-pagination",clickable:!0,renderBullet:function(o,r){return o<3?`<span class="${r} custom-bullet-${o}"></span>`:""}},on:{slideChange:function(){var s,n,a;const o=this.realIndex,r=document.querySelectorAll(".swiper-pagination-bullet");r.forEach(l=>l.classList.remove("swiper-pagination-bullet-active")),o===0?(s=r[0])==null||s.classList.add("swiper-pagination-bullet-active"):o===9?(n=r[2])==null||n.classList.add("swiper-pagination-bullet-active"):(a=r[1])==null||a.classList.add("swiper-pagination-bullet-active")}}};e&&(t.navigation={nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}),new R(".feedback-slider",t)}ie();c.registerPlugin(q);const de=()=>window.matchMedia("(min-width: 768px)").matches;if(de()){c.set(".hero-title",{opacity:0,y:-50,scale:.9}),c.set(".hero-subtitle",{opacity:0,y:30}),c.set(".hero-btn",{opacity:0,scale:.8,y:20}),c.set(".hero-img",{opacity:0,x:50,scale:.95}),c.timeline({defaults:{ease:"power3.out"}}).to(".hero-title",{opacity:1,y:0,scale:1,duration:1.2,ease:"elastic.out(1, 0.6)"}).to(".hero-subtitle",{opacity:1,y:0,duration:.8},"-=0.6").to(".hero-btn",{opacity:1,scale:1,y:0,duration:.6,ease:"back.out(1.7)"},"-=0.4").to(".hero-img",{opacity:1,x:0,scale:1,duration:1,ease:"power3.out"},"-=0.8");const t=document.querySelector(".hero-btn");t&&(t.addEventListener("mouseenter",()=>{c.to(".hero-btn",{scale:1.05,duration:.3,ease:"power2.out"}),c.to(".hero-btn-icon",{x:5,duration:.3,ease:"power2.out"})}),t.addEventListener("mouseleave",()=>{c.to(".hero-btn",{scale:1,duration:.3,ease:"power2.out"}),c.to(".hero-btn-icon",{x:0,duration:.3,ease:"power2.out"})})),c.timeline({scrollTrigger:{trigger:".artists",start:"top 80%",toggleActions:"play none none reverse"}}).from(".artists__title",{opacity:0,y:-30,duration:.8,ease:"power3.out"}).from(".artists__subtitle",{opacity:0,y:20,duration:.8,ease:"power3.out"},"-=0.5"),q.create({trigger:".artists__list",start:"top 85%",once:!0,onEnter:()=>{const r=document.querySelectorAll(".artists__list li");r.length>0&&c.from(r,{opacity:0,y:50,scale:.9,stagger:.1,duration:.6,ease:"back.out(1.2)"})}}),c.from(".artists__load-more-btn",{scrollTrigger:{trigger:".artists__load-more-btn",start:"top 90%",toggleActions:"play none none reverse"},opacity:0,y:20,duration:.6,ease:"power3.out"}),q.create({trigger:".about-us",start:"top 75%",once:!0,onEnter:()=>{c.timeline().from(".about-us-image",{opacity:0,x:-50,scale:.95,duration:1,ease:"power3.out"}).from(".about-us-logo-icon",{opacity:0,scale:0,rotation:-180,duration:.8,ease:"back.out(1.7)"},"-=0.5").from(".about-us-title",{opacity:0,y:30,duration:.8,ease:"power3.out"},"-=0.5").from(".about-us-text",{opacity:0,y:20,duration:.8,ease:"power3.out"},"-=0.6")}})}const M=document.getElementById("scrollToTopBtn"),x=document.getElementById("hero");function O(){if(!x)return;const e=x.offsetHeight;window.scrollY>e?M.classList.add("visible"):M.classList.remove("visible")}function ue(){window.scrollTo({top:0,behavior:"smooth"})}window.addEventListener("scroll",O);M.addEventListener("click",ue);O();function me(){document.body.classList.add("body-no-scroll")}function fe(){document.body.classList.remove("body-no-scroll")}function H(e){e.classList.remove("feedback-error");const t=e.parentElement.querySelector(".feedback-error-text");t&&t.remove()}function P(){document.querySelectorAll(".feedback-error").forEach(t=>{H(t)});const e=document.querySelector(".server-error-message");e&&e.remove()}const p=document.querySelector(".js-feedback-backdrop");function pe(){p.removeAttribute("hidden"),me(),P();const e=document.querySelector(".js-submit-loader"),t=document.querySelector(".js-submit-text"),o=document.querySelector(".feedback-submit-btn");e&&(e.hidden=!0),t&&(t.hidden=!1),o&&(o.disabled=!1)}function L(){p.setAttribute("hidden",""),fe()}function ye(){const e=document.querySelector(".js-feedback-close");!p||!e||(e.addEventListener("click",L),p.addEventListener("click",t=>{t.target===p&&L()}),document.addEventListener("keydown",t=>{t.key==="Escape"&&!p.hasAttribute("hidden")&&L()}))}function ge(){const e=document.querySelector(".feedback-btn");e&&e.addEventListener("click",t=>{t.preventDefault(),pe()})}function be(){const e=document.querySelector(".rating");if(!e)return;const t=e.querySelectorAll(".rating-star"),o=document.getElementById("rating-input");t.forEach(r=>{r.addEventListener("click",s=>{s.preventDefault();const n=Number(r.dataset.value);o.value=n,t.forEach(a=>{a.classList.toggle("active",Number(a.dataset.value)<=n)}),H(e)})})}function he(){const e=document.querySelector(".js-feedback-form");if(!e)return;const t=e.querySelector('[name="name"]'),o=e.querySelector('[name="message"]'),r=document.getElementById("rating-input");e.querySelector(".rating");const s=e.querySelector(".feedback-submit-btn"),n=e.querySelector(".js-submit-text"),a=e.querySelector(".js-submit-loader");e.addEventListener("submit",async l=>{l.preventDefault(),P();const u=t.value.trim(),m=o.value.trim(),f=Number(r.value);let d=!0;if(u||(b.error({title:"–ü–æ–º–∏–ª–∫–∞",message:"–Ü–º º—è –æ–±–æ–≤ º—è–∑–∫–æ–≤–µ",position:"topRight",timeout:3e3}),d=!1),(!m||m.length<10)&&(b.error({title:"–ü–æ–º–∏–ª–∫–∞",message:"–ú—ñ–Ω—ñ–º—É–º 10 —Å–∏–º–≤–æ–ª—ñ–≤",position:"topRight",timeout:3e3}),d=!1),(f<1||f>5)&&(b.error({title:"–ü–æ–º–∏–ª–∫–∞",message:"–û–±–µ—Ä—ñ—Ç—å —Ä–µ–π—Ç–∏–Ω–≥",position:"topRight",timeout:3e3}),d=!1),!!d){s.disabled=!0,n.hidden=!0,a.hidden=!1;try{if(!(await fetch("https://sound-wave.b.goit.study/api/feedbacks",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:u,rating:f,descr:m})})).ok)throw new Error("Server error");e.reset(),r.value="0",document.querySelectorAll(".rating-star").forEach(y=>y.classList.remove("active")),L(),b.success({title:"–£—Å–ø—ñ—Ö",message:"–î—è–∫—É—î–º–æ –∑–∞ –≤—ñ–¥–≥—É–∫!",position:"topRight",timeout:3e3,backgroundColor:"#4caf50",messageColor:"#fff",titleColor:"#fff",progressBarColor:"#2e7d32"})}catch{b.error({title:"–ü–æ–º–∏–ª–∫–∞",message:"–ü–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏. –°–ø—Ä–æ–±—É–π—Ç–µ —â–µ —Ä–∞–∑",position:"topRight",timeout:5e3})}finally{s.disabled=!1,n.hidden=!1,a.hidden=!0}}})}document.addEventListener("DOMContentLoaded",()=>{ye(),ge(),be(),he()});window.$=N;window.jQuery=N;
//# sourceMappingURL=index.js.map
